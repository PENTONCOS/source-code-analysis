## é“¾è¡¨
é“¾è¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è‡³å°‘åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š`æ•°æ®åŸŸ`å’Œ`æŒ‡é’ˆåŸŸ`ã€‚å…¶ä¸­æ•°æ®åŸŸç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œè€ŒæŒ‡é’ˆåŸŸç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®çš„åœ°å€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7cf902512d444ca99dd878c9f5bc5dcb~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

- é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è‡³å°‘åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š`æ•°æ®åŸŸ`å’Œ`æŒ‡é’ˆåŸŸ`
- é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡`æŒ‡é’ˆåŸŸ`çš„å€¼ï¼Œå½¢æˆä¸€ä¸ªçº¿æ€§ç»“æ„
- æŸ¥æ‰¾èŠ‚ç‚¹`O(n)`ï¼Œæ’å…¥èŠ‚ç‚¹`O(1)`ï¼Œåˆ é™¤èŠ‚ç‚¹`O(1)`
- ä¸é€‚åˆ å¿«é€Ÿçš„å®šä½æ•°æ®ï¼Œé€šè¿‡åŠ¨æ€çš„æ’å…¥æˆ–åˆ é™¤æ•°æ® çš„åœºæ™¯

æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€å•çš„é“¾è¡¨ï¼š

1. é¦–å…ˆå®šä¹‰ä¸€ä¸ª`Node`ç±»
```js
Â class Node{
Â  Â  Â constructor(val) {
Â  Â  Â  Â  Â // æ•°æ®åŸŸ
Â  Â  Â  Â  Â this.val = val
Â  Â  Â  Â  Â // æŒ‡é’ˆåŸŸ
Â  Â  Â  Â  Â this.next = null
Â  Â   }
Â }
```

2. æ¥ä¸‹æ¥å®ç°æ·»åŠ å’Œæ‰“å°åŠŸèƒ½ï¼š
```js
Â class LinkNodeList{
Â  Â  Â constructor() {
Â  Â  Â  Â  Â this.head = null
Â  Â  Â  Â  Â this.length = 0
Â  Â   }
Â  Â  Â // æ·»åŠ èŠ‚ç‚¹
Â  Â  Â append(val) {
Â  Â  Â  Â  Â // ä½¿ç”¨æ•°æ®åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹node
Â  Â  Â  Â  Â let node = new Node(val)
Â  Â  Â  Â  Â let p = this.head
Â  Â  Â  Â  Â if(this.head) {
Â  Â  Â  Â  Â  Â  Â // æ‰¾åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠè¿™ä¸ªèŠ‚ç‚¹çš„.nextå±æ€§èµ‹å€¼ä¸ºnode
Â  Â  Â  Â  Â  Â  Â while(p.next) {
Â  Â  Â  Â  Â  Â  Â  Â  Â p = p.next
Â  Â  Â  Â  Â  Â   }
Â  Â  Â  Â  Â  Â  Â p.next = node
Â  Â  Â  Â   } else {
Â  Â  Â  Â  Â  Â  Â // å¦‚æœæ²¡æœ‰headèŠ‚ç‚¹ï¼Œåˆ™ä»£è¡¨é“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥å°†nodeè®¾ç½®ä¸ºå¤´èŠ‚ç‚¹
Â  Â  Â  Â  Â  Â  Â this.head = node
Â  Â  Â  Â   }
Â  Â  Â  Â  Â this.length++
Â  Â   }
Â  Â  Â // æ‰“å°é“¾è¡¨
Â  Â  Â print() {
Â  Â  Â  Â  Â if(this.head) {
Â  Â  Â  Â  Â  Â  Â let p = this.head
Â  Â  Â  Â  Â  Â  Â let ret = ''
Â â€‹
Â  Â  Â  Â  Â  Â  Â do{
Â  Â  Â  Â  Â  Â  Â  Â  Â ret += `${p.val} --> `
Â  Â  Â  Â  Â  Â  Â  Â  Â p = p.next
Â  Â  Â  Â  Â  Â   }while(p.next)
Â  Â  Â  Â  Â  Â  Â ret += p.val
Â  Â  Â  Â   } else {
Â  Â  Â  Â  Â  Â  Â console.log('empty')
Â  Â  Â  Â   }
Â  Â   }
Â }
Â â€‹
Â let linkList = new LinkNodeList()
Â â€‹
Â linkList.append(1)
Â linkList.append(2)
Â linkList.append(3)
Â linkList.append(4)
Â 
Â linkList.print() // 1 --> 2 --> 3 --> 4
Â 
Â console.log(linkList.length) // 4
```
## é˜Ÿåˆ—

é˜Ÿåˆ—æ˜¯ä¸€ç§`å…ˆè¿›å…ˆå‡º`çš„æ•°æ®ç»“æ„ã€‚

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f111f7b94a846c2a71934defa53f1f8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

ä¹Ÿå°±æ˜¯åªå…è®¸ä»é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œé˜Ÿå¤´å¼¹å‡ºå…ƒç´ ï¼Œå¦‚å›¾ï¼š

å‡ºé˜Ÿæ“ä½œ

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ead95c261014e87aa5acbbc09655d74~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

å…¥é˜Ÿæ“ä½œ

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72a0577def464031a97a5f6be3687978~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

å…¶å®å¯¹åº”åˆ°jsä¸­æ•°ç»„çš„æ“ä½œæ˜¯è¿™æ ·çš„ï¼š

åªæ¶‰åŠæ•°ç»„ä¸­çš„ä¸¤ç§æ“ä½œ`push`ï¼ˆåå¢ï¼‰ï¼Œ`shift`ï¼ˆå‰åˆ ï¼‰
```js
Â // ä¼ªä»£ç 
Â class Queue {
Â  Â  constructor() {
Â   this.queue = []
Â  Â  },
Â  Â  push(val) {
Â   // ä½¿ç”¨pushè¿›è¡Œå…¥é˜Ÿæ“ä½œ
Â  Â   this.queue.push(val)
Â  Â  },
Â  Â  shift() {
Â   // ä½¿ç”¨shiftè¿›è¡Œå‡ºé˜Ÿæ“ä½œ
Â  Â  Â  Â  Â this.queue.shift()
Â  Â  }
Â }
```

## yocto-queue

[yocto-queue](https://github.com/sindresorhus/yocto-queue)å…¶å®æ˜¯å®ç°äº†ä¸€ä¸ªå¾®å°çš„é˜Ÿåˆ—ç»“æ„ï¼Œå®ƒçš„ç›®çš„å®é™…ä¸Šæ˜¯ä¸ºäº†è®©ç”¨æˆ·åœ¨æ“ä½œæ•°æ®é‡è¾ƒå¤§çš„æ•°ç»„æ—¶æé«˜ç¨‹åºæ‰§è¡Œçš„æ•ˆç‡ã€‚


### æ•°ç»„

æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯ä¸€ç§æŒ‰é¡ºåºè¿›è¡Œå­˜å‚¨çš„æ•°æ®ç»“æ„

ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ary:
```js
Â let ary = ['åƒé¥­', 'ç¡è§‰', 'åƒé»„ç“œ']
```
å®ƒåœ¨å¯ç”¨å†…å­˜ä¸­æ˜¯è¿™æ ·å­˜å‚¨çš„ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a3d051f8ea1b4188b1b042527ec92cf4~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

å¯ä»¥çœ‹åˆ°æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯æŒ‰ç…§åœ¨å†…å­˜ä¸­çš„é¡ºåºè¿›è¡Œå­˜å‚¨çš„ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„å¯ä»¥å¾ˆä¾¿æ·çš„è®¿é—®æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ä¸‹æ ‡è¿›è¡Œè®¿é—®ï¼š
```js
Â // å–æ•°ç»„ä¸­çš„ç¬¬äºŒé¡¹
Â ary[1] Â // ç¡è§‰
Â â€‹
Â // å› ä¸ºæ˜¯é¡ºåºå­˜å‚¨ï¼Œæ‰€ä»¥ä¸‹æ ‡çš„ä½ç½®å°±æ˜¯æ•°ç»„ä¸­å€¼çš„æ‰€åœ¨çš„ä½ç½®
```
ä½†æ˜¯è¿™ç§æ•°æ®ç»“æ„ä¹Ÿç”±æ­¤äº§ç”Ÿäº†ä¸€ä¸ªéå¸¸éº»çƒ¦çš„é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤æ•°æ®çš„ç¬¬ä¸€é¡¹ï¼ˆæ•°ç»„ä¸­çš„`shift`æ“ä½œï¼‰æˆ–è€…åœ¨ä»»æ„ä¸€ä¸ªä½ç½®æ’å…¥å…ƒç´ ,é‚£ä¹ˆå…¶ä»–åé¢æ‰€æœ‰çš„ä½ç½®å…¨éƒ¨éƒ½è¦å‘å‰ç§»åŠ¨ä¸€ä½ï¼
å› ä¸ºæ•°ç»„æ˜¯é¡ºåºå­˜å‚¨çš„ï¼Œå¦‚æœä¸è¿›è¡Œç§»åŠ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨`ary[0]`è®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæ‰“å°çš„ä¼šæ˜¯`undefined`
```js
Â // ä¼ªä»£ç 
Â // å‡è®¾æ•°ç»„ä¸å‘å‰ç§»åŠ¨
Â ary.shift() // [undefined, 'ç¡è§‰', 'åƒé»„ç“œ']
Â ary[0] // undefined
```

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b4af434744948c4b74eccc88bd45663~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

ä¸Šå›¾ä¸ºæ•°ç»„ç§»ä½æ“ä½œ

è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚ä¸Šé¢çš„å­˜å‚¨ç©ºé—´çš„ç¤ºæ„å›¾æ‰€ç¤ºï¼šå¦‚æœæˆ‘ä»¬çš„æ•°ç»„åé¢çš„ç©ºé—´è¢«å ç”¨äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æƒ³è¦å†æ¬¡å¢åŠ ä¸€ä½ï¼Œè¿™æ—¶å°±éœ€è¦å°†æ•°ç»„å…¨éƒ¨è½¬ç§»åˆ°å†…å­˜çš„å…¶ä»–åœ°æ–¹ã€‚

æ‰€ä»¥å¯¹æ•°ç»„çš„æœ‰äº›æ“ä½œå¯¹æ€§èƒ½çš„æŸè€—å°†æ˜¯éå¸¸å¤§çš„ã€‚

### é“¾è¡¨

ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªé“¾è¡¨`queue`:
```js
Â let queue = node('åƒé¥­') -> node('ç¡è§‰') -> node('åƒé»„ç“œ')
```

ç”±äºé“¾è¡¨çš„æ•°æ®ç»“æ„ä¸­å­˜åœ¨`æŒ‡é’ˆåŸŸ`çš„å­˜åœ¨ï¼Œç”¨äºå­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®çš„åæ ‡ï¼Œæ‰€ä»¥æ•°ç»„ä¸­æ‰€äº§ç”Ÿçš„ä¸¤ä¸ªé—®é¢˜å°±ä¸ä¼šå­˜åœ¨äº†ï¼Œé“¾è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ªå€¼å¯ä»¥å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä»»æ„ä¸€ä¸ªåœ°æ–¹ï¼Œå¦‚ä¸‹å›¾ï¼š

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee8b84919bc0465990c782be5fc17ee9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?)

æ‰€ä»¥æˆ‘ä»¬è¿›è¡Œé“¾è¡¨çš„åˆ é™¤æˆ–è€…æ’å…¥æ“ä½œæ—¶ï¼Œåªéœ€è¦å°†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„`next`æŒ‡é’ˆæŒ‡å‘æ–°æ’å…¥å…ƒç´ ï¼Œå°†æ–°æ’å…¥çš„å…ƒç´ çš„`next`æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ å³å¯ï¼Œ**æ²¡æœ‰è¢«`next`æŒ‡é’ˆæ‰€è¿æ¥çš„å…ƒç´ ä¼šè‡ªåŠ¨è¢«å›æ”¶**ï¼Œè€Œæˆ‘ä»¬ä¸Šæ–‡ä¸­æåˆ°åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ›´ç®€å•äº†ï¼Œåªéœ€è¦æˆ‘ä»¬å°†`head`å¤´èŠ‚ç‚¹å˜æ›´ä¸ºç¬¬äºŒä¸ªå…ƒç´ å³å¯ã€‚

ä½†æ˜¯é“¾è¡¨è¿™ç§ç»“æ„ä¹Ÿå¹¶ä¸æ˜¯å®Œç¾æ— ç¼ºçš„ï¼Œå› ä¸ºé“¾è¡¨æ˜¯éšæœºå­˜å‚¨çš„ï¼Œæ¯ä¸ªå€¼çš„ä½ç½®éƒ½ä¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸å¯èƒ½é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼è¿›è¡Œè®¿é—®é“¾è¡¨çš„å…ƒç´ äº†ï¼Œåªèƒ½é€šè¿‡ä¸€ä¸ªä¸€ä¸ªéå†çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ï¼š
```js
Â // ä¼ªä»£ç 
Â â€‹
Â while(this.head) {
Â  this.head = this.head.next
Â }
```

`yocto-queue`å®ç°äº†é˜Ÿåˆ—çš„å‡ ç§åŸºæœ¬æ“ä½œï¼š`enqueue`(å…¥é˜Ÿ)ã€`dequeue`(å‡ºé˜Ÿ)ã€`clear`(æ¸…é™¤)ã€`size`(è·å–é•¿åº¦)ã€`[Symbol.iterator]`(å¤„ç†for...oféå†)

æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä»yocto-queueçš„æµ‹è¯•æ–‡ä»¶å…¥æ‰‹ï¼Œæ¥ä¸€ä¸ªä¸€ä¸ªçš„å®ç°æ¯ä¸ªåŠŸèƒ½çš„é€»è¾‘ï¼š

### nodeèŠ‚ç‚¹ç±»

ç”±äºé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ç±»ï¼š
```js
Â class Node {
Â  Â // å®šä¹‰èŠ‚ç‚¹å€¼->value (ç”¨äºä¿å­˜èŠ‚ç‚¹çœŸæ­£çš„å€¼)
Â  Â value;
Â  Â // å®šä¹‰æŒ‡é’ˆåŸŸ->next (ç”¨äºä¿å­˜æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåœ°å€)
Â  Â next;
Â  Â constructor(value) {
Â  Â  Â // åˆå§‹åŒ–èŠ‚ç‚¹å€¼
Â  Â  Â this.value = value
Â   }
Â }
```

è¿™ä¸ªåœ°æ–¹æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åˆå§‹åŒ–çš„å€¼æ˜¯å®šä¹‰åœ¨`constructor`å¤–é¢çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®šä¹‰å˜é‡åˆå§‹å€¼æœ‰ä¸¤ç§å†™æ³•ï¼š

**ä¾‹å¦‚ï¼š**

```js
Â // ç¬¬ä¸€ç§å†™æ³•
Â class Person {
Â  Â constructor() {
Â  Â  Â this._count = 0;
Â   }
Â }
```
```js
Â class Person {
Â  Â _count = 0;
Â  Â constructor() {
Â   }
Â }
```
ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒç§å†™æ³•çš„å®ä¾‹å±æ€§`_count`ï¼Œæ”¾åœ¨äº†`constructor`ä¸Šé¢ï¼Œä¸`constructor`å¤„äºåŒä¸€ä¸ªå±‚çº§ã€‚è¿™æ—¶ï¼Œä¸éœ€è¦åœ¨å®ä¾‹å±æ€§å‰é¢åŠ ä¸Š`this`ã€‚

æ³¨æ„ï¼Œç¬¬äºŒç§å†™æ³•å®šä¹‰çš„å±æ€§æ˜¯å®ä¾‹å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡çš„åŸå‹ä¸Šé¢ã€‚

è€Œ`yocto-queue`ä¸­å®šä¹‰`Node`ç±»çš„åˆå§‹åŒ–å€¼çš„å†™æ³•æ­£æ˜¯é‡‡ç”¨äº†ç¬¬äºŒç§å†™æ³•ã€‚

### Queue ç±»
```js
Â class Queue {
Â  Â  Â // é•¿åº¦
Â  Â  Â #size;
Â  Â  Â // å¤´èŠ‚ç‚¹
Â  Â  Â #head;
Â  Â  Â // å°¾èŠ‚ç‚¹
Â  Â  Â #tail;
Â  Â  Â constructor() {
Â  Â  Â  Â // åˆå§‹åŒ–ç±»æ—¶ï¼Œæ‰‹åŠ¨åˆå§‹åŒ–ä¸€æ¬¡å„ä¸ªå±æ€§å€¼
Â  Â  Â  Â this.clear()
Â  Â   }
Â }
```

`Queue`ç±»ä¸­å®šä¹‰äº†ä¸‰ä¸ªå±æ€§ï¼Œ`this.#size`ç”¨äºä¿å­˜é˜Ÿåˆ—çš„é•¿åº¦ï¼Œ`this.#head`ç”¨äºä¿å­˜å¤´èŠ‚ç‚¹ï¼Œè¿”å›æ•´ä¸ªé˜Ÿåˆ—åªéœ€è¦è¿”å›å¤´èŠ‚ç‚¹å³å¯ï¼Œå› ä¸ºå„ä¸ªèŠ‚ç‚¹éƒ½æ˜¯é€šè¿‡`next`å±æ€§ä¸²è”èµ·æ¥çš„ï¼Œæ¢è¨€ä¹‹ï¼Œè·å¾—äº†å¤´èŠ‚ç‚¹ï¼Œå°±å¯ä»¥è·å¾—æ•´ä¸ªé€šè¿‡é“¾è¡¨ç”Ÿæˆçš„æ•´ä¸ªé˜Ÿåˆ—æ‰€æœ‰çš„å€¼ã€‚

é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦å®ç° `this.#tail` ç”¨äºä¿å­˜å°¾èŠ‚ç‚¹å‘¢ï¼Ÿ

å…¶å®åœ¨`yocto-queue`æºç ä¸­å·²ç»åšäº†å›ç­”ï¼š

> How it works: this.#head is an instance of Node which keeps track of its current value and nests another instance of Node that keeps the value that comes after it. When a value is provided to .enqueue(), the code needs to iterate through this.#head, going deeper and deeper to find the last value. However, iterating through every single item is slow. This problem is solved by saving a reference to the last value as this.#tail so that it can reference it to add a new value.

> å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š this.#headæ˜¯ä¸€ä¸ªNodeçš„å®ä¾‹ï¼Œå®ƒè®°å½•äº†å®ƒå½“å‰çš„å€¼ï¼Œå¹¶åµŒå¥—äº†å¦ä¸€ä¸ªNodeçš„å®ä¾‹ï¼Œå®ƒè®°å½•äº†å®ƒåé¢çš„å€¼ã€‚ å½“ä¸€ä¸ªå€¼è¢«æä¾›ç»™.enqueue()æ—¶ï¼Œä»£ç éœ€è¦éå†this.#headï¼Œä¸æ–­æ·±å…¥ä»¥æ‰¾åˆ°æœ€åçš„å€¼ã€‚ç„¶è€Œï¼Œéå†æ¯ä¸€ä¸ªå•é¡¹æ˜¯å¾ˆæ…¢çš„ã€‚è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•æ˜¯å°†æœ€åä¸€ä¸ªå€¼çš„å¼•ç”¨ä¿å­˜ä¸ºthis.#tailï¼Œè¿™æ ·å®ƒå°±å¯ä»¥å¼•ç”¨å®ƒæ¥æ·»åŠ æ–°çš„å€¼ã€‚

æ‰€ä»¥è¿™å°±å¯ä»¥è§£é‡Š`this.#tail`çš„ä½œç”¨ï¼šç”¨äºä¿å­˜å°¾èŠ‚ç‚¹ä¾¿äºæ›´å¿«çš„æ·»åŠ æ–°èŠ‚ç‚¹ï¼Œå½“æˆ‘ä»¬æ·»åŠ æ–°èŠ‚ç‚¹æ—¶ï¼Œåªéœ€è¦å°†å°¾èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯`this.#tail`ï¼‰çš„`next`å±æ€§å®šä¹‰ä¸ºæ–°èŠ‚ç‚¹å³å¯ã€‚
### enqueue(å…¥é˜Ÿ)

å…¥é˜Ÿæ“ä½œ

æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹`enqueue`æ–¹æ³•çš„å•æµ‹æ–‡ä»¶ï¼Œçœ‹ä¸€ä¸‹éƒ½å®ç°äº†é‚£äº›åŠŸèƒ½ï¼š
```js
test('.enqueue()', t => {
    // åˆ›å»ºä¸€ä¸ªqueueç»“æ„
    const queue = new Queue();
    // å…¥é˜Ÿä¸€ä¸ªå½©è™¹å°é©¬
    queue.enqueue('ğŸ¦„');
    // dequeueä¸ºå‡ºé˜Ÿæ“ä½œï¼ˆä¸‹æ–‡ä¼šè®²è§£ï¼‰ï¼Œå‡ºé˜Ÿåæ˜¯å¦ç­‰äºå½©è™¹å°é©¬
    t.is(queue.dequeue(), 'ğŸ¦„');
  
    // è¿ç»­å…¥é˜Ÿå½©è™¹å’Œé»‘æ¡ƒå¿ƒ
    queue.enqueue('ğŸŒˆ');
    queue.enqueue('â¤ï¸');
    // æ­¤æ—¶é“¾è¡¨ä¸­ä¸ºğŸŒˆ â¤ï¸
    t.is(queue.dequeue(), 'ğŸŒˆ');  
    // æ˜¯å¦ä¸ºå¤´éƒ¨å‡ºé˜Ÿ
    t.is(queue.dequeue(), 'â¤ï¸');
});
```
æ¥ä¸‹æ¥å°±å¯ä»¥å®ç°`enqueue`å‡½æ•°åŠŸèƒ½äº†ï¼Œå¯ä»¥çœ‹åˆ°æ ¸å¿ƒå°±æ˜¯ä¸¤ç‚¹ï¼š

- æ ¹æ®å€¼åˆ›å»ºèŠ‚ç‚¹
- ä»å°¾éƒ¨å…¥é˜Ÿ

```js
enqueue(value) {
    // åˆ›å»ºèŠ‚ç‚¹
    const node = new Node(value);
    // é¦–å…ˆåˆ¤æ–­å¤´èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨
    if (this.#head) {
        // å­˜åœ¨çš„è¯ï¼Œç›´æ¥å°†å°¾èŠ‚ç‚¹çš„nextå±æ€§è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹
	this.#tail.next = node;
        // å°†å°¾èŠ‚ç‚¹ç§»åŠ¨æœ€åä¸€ä¸ªä½ç½®
	this.#tail = node;
    } else {   
        // å¦‚æœå¤´èŠ‚ç‚¹ä¸å­˜åœ¨ï¼ˆæ•´ä¸ªé˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥å°†å¤´èŠ‚ç‚¹è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹ï¼‰
	this.#head = node;
        // æ­¤æ—¶é˜Ÿåˆ—ä¸­åªå­˜åœ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹éƒ½æŒ‡å‘æ–°å…ƒç´ 
	this.#tail = node;
    }
    // æ›´æ–°é•¿åº¦å€¼
    this.#size++;
}
```

### dequeue(å‡ºé˜Ÿ)

è¿˜æ˜¯å…ˆæ¥çœ‹ä¸€ä¸‹å•æµ‹æ–‡ä»¶ï¼š
```js
test('.dequeue()', t => {
    const queue = new Queue();
     // å¦‚æœé˜Ÿåˆ—ä¸­å¹¶æ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆè¿”å›undefined
    t.is(queue.dequeue(), undefined);
    t.is(queue.dequeue(), undefined);
    queue.enqueue('ğŸ¦„');
    // ä»å¤´éƒ¨å¼€å§‹å¼¹å‡º
    t.is(queue.dequeue(), 'ğŸ¦„');
    t.is(queue.dequeue(), undefined);
});
```
å…¶å®å‡ºé˜Ÿæ“ä½œä¹Ÿåªæœ‰ä¸¤ç‚¹ï¼š

- å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥è¿”å›`undefined`
- ä»å¤´éƒ¨å¼€å§‹å¼¹å‡ºé˜Ÿåˆ—

```js
dequeue() {
    // ä¿å­˜å¤´èŠ‚ç‚¹ï¼Œé˜²æ­¢ä¸¢å¤±
    const current = this.#head;
    // å¦‚æœå¤´èŠ‚ç‚¹æ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›
    if (!current) {
        return;
    }
    // å°†å¤´èŠ‚ç‚¹ç§»åŠ¨åˆ°ç¬¬äºŒä¸ªå…ƒç´ 
    this.#head = this.#head.next;
    // æ›´æ–°é•¿åº¦å€¼
    this.#size--;
    // è¿”å›å·²åˆ é™¤å¤´èŠ‚ç‚¹
    return current.value;
}
```

### clear(æ¸…é™¤)

æ¸…é™¤é˜Ÿåˆ—çš„æ“ä½œ

æ¸…é™¤é˜Ÿåˆ—çš„æ“ä½œå¾ˆç®€å•ï¼Œåªéœ€è¦å°†`head`å’Œ`tail`çš„æŒ‡é’ˆéƒ½å˜ä¸º`undefined`ï¼Œæ¸…ç©ºé•¿åº¦å€¼å³å¯

```js
clear() {
    his.#head = undefined;
    this.#tail = undefined;
    this.#size = 0;
}
```
### size(è¿”å›é•¿åº¦)
è¿”å›é˜Ÿåˆ—é•¿åº¦çš„æ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†#sizeå±æ€§è¿”å›å³å¯
```js
get size() {
    return this.#size
}
```
### [Symbol.iterator]

`Symbol.iterator`å±æ€§ä¸ºå¯éå†æ•°æ®çš„éå†å™¨å‡½æ•°ï¼Œåªè¦æ˜¯åœ¨å†…éƒ¨éƒ¨ç½²äº†`[Symbol.iterator]`å‡½æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«`for...of`æ‰€éå†ã€‚`for...of`ä¸­çš„å®ç°å†…éƒ¨å°±ä¼šè‡ªåŠ¨å»è°ƒç”¨`[Symbol.iterator]`å‡½æ•°çš„`next`æ–¹æ³•ï¼Œæ‰€ä»¥`for...of`åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸æ–­åœ°æ‰§è¡Œ`next`è¿›è¡Œè°ƒç”¨ï¼Œé‡åˆ°`Generator`å‡½æ•°ä¸­çš„`yield`å…³é”®å­—ä¼šæš‚åœï¼Œå¹¶è¿”å›å€¼ï¼Œç„¶åå†è°ƒç”¨`next`æ–¹æ³•ä»ä¸­æ–­çš„ä½ç½®ç»§ç»­æ‰§è¡Œ...ç›´åˆ°éå†å®Œæˆã€‚
```js
// ç”Ÿæˆå™¨å‡½æ•°
* [Symbol.iterator]() {
    // è·å–å¤´èŠ‚ç‚¹
     let current = this.#head;

     while (current) {
         // æš‚åœ
         yield current.value;
         current = current.next;
     }
}
```

## æ€»ç»“
ä»`yocto-queue`æºç ä¸­ï¼Œå¯ä»¥å­¦ä¹ é˜Ÿåˆ—å®ç°æ–¹å¼ä»¥åŠå¯¹åº”APIçš„å•å…ƒæµ‹è¯•çš„å®Œæ•´è¿‡ç¨‹ï¼›äº†è§£åˆ°é“¾è¡¨ä¸æ•°ç»„çš„ä¸€äº›åŒºåˆ«ä»¥åŠ`Symbol.iterator`çš„ä½¿ç”¨åœºæ™¯ã€‚